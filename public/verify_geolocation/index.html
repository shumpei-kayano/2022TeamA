<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Geolocation Sample</title>
    </head>
    <body>
        <div class="center">
            <div class="btn-margin">
                <button id="btn" class="btn btn-outline-primary btn-lg">
                    現在位置を取得する
                </button>
            </div>
            <div class="txt-margin">
                <p>緯度：<span id="latitude">???</span><span>度</span></p>
                <p>経度：<span id="longitude">???</span><span>度</span></p>
            </div>
        </div>
        <script>
            // ボタンを押した時の処理
            document.getElementById("btn").onclick = function () {
                // 位置情報を取得する
                navigator.geolocation.getCurrentPosition(
                    successCallback,
                    errorCallback
                );
            };

            // 取得に成功した場合の処理
            function successCallback(position) {
                // 緯度を取得し画面に表示
                var latitude = position.coords.latitude;
                //小数点以下を5桁に調整
                lat = Math.floor(latitude * 100000) / 100000;
                document.getElementById("latitude").innerHTML = lat;
                // 経度を取得し画面に表示
                var longitude = position.coords.longitude;
                //小数点以下を5桁に調整
                lng = Math.floor(longitude * 100000) / 100000;
                document.getElementById("longitude").innerHTML = lng;
            }

            // 取得に失敗した場合の処理
            function errorCallback(error) {
                alert("位置情報が取得できませんでした");
            }
        </script>
    </body>
</html>
